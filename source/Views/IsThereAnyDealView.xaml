<UserControl x:Class="IsThereAnyDeal.Views.IsThereAnyDealView" 
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:IsThereAnyDeal.Views" 
             xmlns:converters="clr-namespace:CommonPlayniteShared.Converters" 
             xmlns:converters1="clr-namespace:CommonPluginsShared.Converters" 
             xmlns:wpftk="clr-namespace:WpfToolkit.Controls;assembly=VirtualizingWrapPanel" 
             xmlns:playnitecontrols="clr-namespace:CommonPluginsControls.PlayniteControls" 
             xmlns:po="http://schemas.microsoft.com/winfx/2006/xaml/presentation/options"
             mc:Ignorable="d" d:DesignHeight="740" d:DesignWidth="1280" 
             d:DataContext="{d:DesignInstance Type=local:ItadDataContext, IsDesignTimeCreatable=True}" 
             Background="{DynamicResource WindowBackgourndBrush}">
    
    <UserControl.Resources>
        <converters:StringNullOrEmptyToVisibilityConverter x:Key="StringNullOrEmptyToVisibilityConverter"/>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <converters:InvertedBooleanToVisibilityConverter x:Key="InvertedBooleanToVisibilityConverter"/>
        <converters1:ValueOperationConverter x:Key="ValueOperationConverter"/>
        <converters1:LocalDateConverter x:Key="LocalDateConverter"/>
        
        <!-- Color resources for dark cards and buttons -->
        <SolidColorBrush x:Key="CardBackgroundBrush" Color="#2E2F33" po:Freeze="True"/>
        <SolidColorBrush x:Key="CardForegroundBrush" Color="#FFFFFF" po:Freeze="True"/>
        <SolidColorBrush x:Key="CardBorderBrush" Color="#444" po:Freeze="True"/>
        <SolidColorBrush x:Key="PrimaryButtonBackgroundBrush" Color="#5A9BD5" po:Freeze="True"/>
        <SolidColorBrush x:Key="PrimaryButtonHoverBrush" Color="#4B89C6" po:Freeze="True"/>
        <SolidColorBrush x:Key="PrimaryButtonForegroundBrush" Color="#FFFFFF" po:Freeze="True"/>
        
        <!-- Card-like item appearance -->
        <Style x:Key="ItemBorderStyle" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource CardBackgroundBrush}"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="Margin" Value="8,6,12,10"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="BorderBrush" Value="{StaticResource CardBorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CacheMode">
                <Setter.Value>
                    <BitmapCache RenderAtScale="1" EnableClearType="True"/>
                </Setter.Value>
            </Setter>
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <TranslateTransform Y="0"/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsMouseOver, RelativeSource={RelativeSource AncestorType=ListBoxItem}}" Value="True">
                    <Setter Property="BorderBrush" Value="{StaticResource PrimaryButtonBackgroundBrush}"/>
                    <Setter Property="BorderThickness" Value="1"/>
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect Color="#22000000" BlurRadius="8" ShadowDepth="2" Opacity="0.45" RenderingBias="Performance"/>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="RenderTransform">
                        <Setter.Value>
                            <TranslateTransform Y="-2"/>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
                <DataTrigger Binding="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=ListBoxItem}}" Value="True">
                    <Setter Property="BorderBrush" Value="{StaticResource PrimaryButtonBackgroundBrush}"/>
                    <Setter Property="Background" Value="#33363A"/>
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect Color="#33000000" BlurRadius="8" ShadowDepth="2" Opacity="0.6" RenderingBias="Performance"/>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="RenderTransform">
                        <Setter.Value>
                            <TranslateTransform Y="-2"/>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
            </Style.Triggers>
        </Style>
        
        <!-- Button look -->
        <Style x:Key="PrimaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource PrimaryButtonBackgroundBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryButtonForegroundBrush}"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="Margin" Value="0"/>
            <Setter Property="MinWidth" Value="80"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="BorderBrush" Value="#2E6A9C"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <TransformGroup>
                        <ScaleTransform ScaleX="1" ScaleY="1"/>
                        <TranslateTransform X="0" Y="0"/>
                    </TransformGroup>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="4" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource PrimaryButtonHoverBrush}"/>
                                <Setter Property="BorderBrush" Value="#1F6EA0"/>
                                <Setter Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#22000000" RenderingBias="Performance" BlurRadius="10" ShadowDepth="2" Opacity="0.6"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="RenderTransform">
                                    <Setter.Value>
                                        <TransformGroup>
                                            <ScaleTransform ScaleX="1.02" ScaleY="1.02"/>
                                            <TranslateTransform X="0" Y="-1"/>
                                        </TransformGroup>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="RenderTransform">
                                    <Setter.Value>
                                        <TransformGroup>
                                            <ScaleTransform ScaleX="0.99" ScaleY="0.99"/>
                                            <TranslateTransform X="0" Y="0"/>
                                        </TransformGroup>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#18000000" RenderingBias="Performance" BlurRadius="6" ShadowDepth="1" Opacity="0.5"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.6"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Make listbox items stretch to full width and remove default highlighting -->
        <Style x:Key="ListBoxItemContainerStyle" TargetType="ListBoxItem">
            <Setter Property="Padding" Value="0"/>
            <Setter Property="Margin" Value="0"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="VerticalContentAlignment" Value="Top"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="IsTabStop" Value="True"/>
            <Setter Property="UseLayoutRounding" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBoxItem">
                        <Border Background="Transparent">
                            <ContentPresenter/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Cursor" Value="Hand"/>
                    <Setter Property="Panel.ZIndex" Value="99"/>
                </Trigger>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Panel.ZIndex" Value="100"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="PriceVisibilityStyle" TargetType="FrameworkElement">
            <Setter Property="Visibility" Value="Visible"/>

            <Style.Triggers>
                <DataTrigger Binding="{Binding CurrencySign}" Value="{x:Null}">
                    <Setter Property="Visibility" Value="Collapsed"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding CurrencySign}" Value="">
                    <Setter Property="Visibility" Value="Collapsed"/>
                </DataTrigger>

                <!--DataTrigger Binding="{Binding InLibrary}" Value="True">
                    <Setter Property="Visibility" Value="Collapsed"/>
                </DataTrigger>

                <DataTrigger Binding="{Binding IsActive}" Value="False">
                    <Setter Property="Visibility" Value="Collapsed"/>
                </DataTrigger-->
            </Style.Triggers>
        </Style>
    </UserControl.Resources>
    
    <Grid Margin="10">
        <TabControl SelectionChanged="TabControl_SelectionChanged">
            <TabItem Header="{DynamicResource LOCItadWishlist}" Name="PART_Tb">
                <Grid Margin="10">
                    <DockPanel Name="dpData" LastChildFill="True">
                        <Border DockPanel.Dock="Top" BorderThickness="{DynamicResource PopupBorderThickness}" BorderBrush="{DynamicResource NormalBorderBrush}" Margin="0,0,0,10">
                            <DockPanel Margin="10" LastChildFill="True">

                                <!-- ===== LEFT SECTION: SEARCH & FILTERS ===== -->
                                <StackPanel DockPanel.Dock="Left" Margin="0,0,20,0">
                                    <!-- Search -->
                                    <DockPanel Margin="0,0,0,10">
                                        <playnitecontrols:SearchBox x:Name="TextboxSearch" 
                                                                   TextChanged="TextboxSearch_TextChanged" 
                                                                   Width="250" 
                                                                   Margin="10,0,0,0"
                                                                   DockPanel.Dock="Right"
                                                                   VerticalAlignment="Center"/>
                                        
                                        <Label Content="{DynamicResource LOCSearchLabel}" 
                                               VerticalAlignment="Center"/>
                                    </DockPanel>

                                    <!-- Filter Store -->
                                    <DockPanel>
                                        <ComboBox Name="FilterStore" 
                                                 IsEditable="True" 
                                                 IsReadOnly="True" 
                                                 Width="250" 
                                                 Margin="10,0,0,0"
                                                 VerticalAlignment="Center"
                                                 VirtualizingPanel.IsVirtualizing="True"
                                                 DockPanel.Dock="Right"
                                                 ItemsSource="{Binding FilterStoreItems}">
                                            <ComboBox.ItemContainerStyle>
                                                <Style TargetType="ComboBoxItem">
                                                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                                    <Setter Property="Padding" Value="4,2"/>
                                                </Style>
                                            </ComboBox.ItemContainerStyle>
                                            <ComboBox.ItemTemplate>
                                                <DataTemplate>
                                                    <CheckBox Checked="ChkStore_Checked" 
                                                             Unchecked="ChkStore_Unchecked" 
                                                             Tag="{Binding StoreName}" 
                                                             Content="{Binding StoreNameDisplay}" 
                                                             IsChecked="{Binding IsCheck, Mode=TwoWay}" 
                                                             FontFamily="{DynamicResource CommonFont}"
                                                             Focusable="False"/>
                                                </DataTemplate>
                                            </ComboBox.ItemTemplate>
                                        </ComboBox>
                                        
                                        <Label Content="{DynamicResource LOCITADFilterSource}" 
                                               VerticalAlignment="Center"/>
                                    </DockPanel>
                                </StackPanel>

                                <!-- ===== RIGHT SECTION: SLIDERS & OPTIONS ===== -->
                                <DockPanel LastChildFill="True">
                                    <!-- Radio buttons - left -->
                                    <Grid DockPanel.Dock="Right" Margin="20,0,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="10"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="12"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        
                                        <Label Content="{DynamicResource LOCITADOn}" VerticalAlignment="Center"/>
                                        <RadioButton Name="PART_RbBest" VerticalAlignment="Center" 
                                                    Grid.Column="2"
                                                    Content="{DynamicResource LOCITADBestPrice}" 
                                                    GroupName="Price" 
                                                    IsChecked="True" 
                                                    Click="PART_Rb_Click"
                                                    Margin="30,0,0,8"/>
                                        <RadioButton Name="PART_RbStore" VerticalAlignment="Center" 
                                                    Grid.Row="2" Grid.Column="2"
                                                    Content="{DynamicResource LOCITADStorePrice}" 
                                                    GroupName="Price" 
                                                    Click="PART_Rb_Click"
                                                    Margin="30,0,0,8"/>
                                    </Grid>

                                    <!-- Sliders - center -->
                                    <Grid DockPanel.Dock="Left" HorizontalAlignment="Right">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="10"/>
                                            <ColumnDefinition Width="300" MinWidth="150"/>
                                            <ColumnDefinition Width="8"/>
                                            <ColumnDefinition Width="55"/>
                                        </Grid.ColumnDefinitions>

                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="12"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <!-- ===== PERCENTAGE SLIDER ===== -->
                                        <Label Grid.Column="0" Grid.Row="0" 
                                               Content="{DynamicResource LOCITADPercentage}" 
                                               Height="{Binding ElementName=TextboxSearch, Path=ActualHeight}"
                                               VerticalAlignment="Center"/>

                                        <Slider Grid.Column="2" Grid.Row="0"
                                                Minimum="0" 
                                                Maximum="100" 
                                                Value="{Binding DiscountPercent, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                                VerticalAlignment="Center" 
                                                IsSnapToTickEnabled="True" 
                                                TickFrequency="5"
                                                LargeChange="10"
                                                SmallChange="1"
                                                Name="sPercentage" 
                                                Thumb.DragCompleted="On_DragCompleted"
                                                AutoToolTipPlacement="BottomRight"
                                                AutoToolTipPrecision="0"
                                                IsMoveToPointEnabled="True"/>

                                        <TextBlock Grid.Column="4" Grid.Row="0"
                                                   HorizontalAlignment="Right"
                                                   VerticalAlignment="Center"
                                                   Text="{Binding DiscountPercent, StringFormat={}{0:0}%}"/>

                                        <!-- ===== PRICE SLIDER ===== -->
                                        <Label Grid.Column="0" Grid.Row="2" 
                                               Content="{DynamicResource LOCITADPrice}" 
                                               Height="{Binding ElementName=TextboxSearch, Path=ActualHeight}"
                                               VerticalAlignment="Center"/>

                                        <Slider Grid.Column="2" Grid.Row="2"
                                                Minimum="{Binding MinPrice}" 
                                                Maximum="{Binding MaxPrice}" 
                                                Value="{Binding PriceLimit, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                                VerticalAlignment="Center" 
                                                IsSnapToTickEnabled="True" 
                                                TickFrequency="5"
                                                LargeChange="25"
                                                SmallChange="5"
                                                Name="sPrice" 
                                                Thumb.DragCompleted="On_DragCompleted"
                                                AutoToolTipPlacement="BottomRight"
                                                AutoToolTipPrecision="0"
                                                IsMoveToPointEnabled="True"/>

                                        <TextBlock Grid.Column="4" Grid.Row="2"
                                                   HorizontalAlignment="Right"
                                                   VerticalAlignment="Center">
                                            <Run Text="{Binding PriceLimit, StringFormat={}{0:0}, Mode=OneWay}"/>
                                            <Run Text="{Binding CurrencySign, Mode=OneWay}"/>
                                        </TextBlock>
                                    </Grid>
                                </DockPanel>
                            </DockPanel>
                        </Border>
                        
                        <Border DockPanel.Dock="Bottom" BorderThickness="0,1,0,0" BorderBrush="{StaticResource NormalBorderBrush}" Margin="0,10,0,0">
                            <Grid Margin="0, 10, 0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto"/>
                                    <ColumnDefinition Width="10"/>
                                    <ColumnDefinition Width="auto"/>
                                    <ColumnDefinition Width="10"/>
                                    <ColumnDefinition Width="auto"/>
                                    <ColumnDefinition Width="10"/>
                                    <ColumnDefinition Width="auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="auto"/>
                                </Grid.ColumnDefinitions>
                                <Label Grid.Column="0" Content="{DynamicResource LOCItadWhishListOptions}"/>
                                <ToggleButton Grid.Column="2" Content="{DynamicResource LOCItadWhishListOptionsIncludeInLibrary}" VerticalAlignment="Center" Name="PART_TbIncludeInLibrary" Click="PART_Tb_Click"/>
                                <ToggleButton Grid.Column="4" Content="{DynamicResource LOCItadWhishListOptionsIncludeWithoutData}" VerticalAlignment="Center" Name="PART_TbIncludeWithoutData" Click="PART_Tb_Click"/>
                                <ToggleButton Grid.Column="6" Content="{DynamicResource LOCItadWhishListOptionsOnlyInLibrary}" VerticalAlignment="Center" Name="PART_TbOnlyInLibrary" Click="PART_Tb_Click"/>
                                <Grid Grid.Column="10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition Width="10"/>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition Width="10"/>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition Width="10"/>
                                        <ColumnDefinition Width="auto"/>
                                    </Grid.ColumnDefinitions>
                                    <Label Grid.Column="0" Content="{DynamicResource LOCCommonDateData}"/>
                                    <Label Grid.Column="2" Content="xx/xx/xx xx:xx:xx" Name="PART_DateData"/>
                                    <Button Grid.Column="4" Content="{DynamicResource LOCITADRefreshPrice}" Click="ButtonPrice_Click"/>
                                    <Button Grid.Column="6" Content="{DynamicResource LOCCommonRefreshGameData}" Click="ButtonData_Click"/>
                                </Grid>
                            </Grid>
                        </Border>
                        
                        <Grid Name="DataLoaded">
                            <ListBox Name="lbWishlist" Height="{Binding ElementName=DataLoaded, Path=ActualHeight}" 
                                     ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Auto" 
                                     ItemContainerStyle="{StaticResource ListBoxItemContainerStyle}">
                                <ListBox.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <wpftk:VirtualizingWrapPanel Orientation="Vertical" VirtualizingPanel.CacheLengthUnit="Item" VirtualizingPanel.CacheLength="10,10" VirtualizingPanel.VirtualizationMode="Recycling"/>
                                    </ItemsPanelTemplate>
                                </ListBox.ItemsPanel>
                                
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <DataTemplate.Resources>
                                            <Style TargetType="TextBlock">
                                                <Setter Property="Foreground" Value="{StaticResource CardForegroundBrush}"/>
                                            </Style>
                                        </DataTemplate.Resources>
                                        
                                        <Border Style="{StaticResource ItemBorderStyle}">
                                            <Grid Margin="0,5">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="auto"/>
                                                    <ColumnDefinition Width="6"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                
                                                <!-- Image -->
                                                <StackPanel Grid.Column="0" Height="100" Width="200">
                                                    <Image x:Name="HltbImage" Source="{Binding CapsuleImagePath, IsAsync=True}" Stretch="UniformToFill" Height="100" Width="200" RenderOptions.BitmapScalingMode="Linear"/>
                                                    <TextBlock Text="{Binding StoreNameIcon}" Foreground="White" HorizontalAlignment="Right" VerticalAlignment="Bottom" FontSize="24" FontFamily="{DynamicResource CommonFont}" Margin="0,-40,5,5">
                                                        <TextBlock.Effect>
                                                            <DropShadowEffect Color="Black" Opacity="1" BlurRadius="5" ShadowDepth="0" RenderingBias="Performance"/>
                                                        </TextBlock.Effect>
                                                    </TextBlock>
                                                </StackPanel>
                                                
                                                <!-- Infos & actions -->
                                                <Grid Grid.Column="2" Name="PART_Infos">
                                                    <Grid.MinWidth>
                                                        <MultiBinding Converter="{StaticResource ValueOperationConverter}" ConverterParameter="-">
                                                            <Binding ElementName="DataLoaded" Path="ActualWidth"/>
                                                            <Binding Source="270" />
                                                        </MultiBinding>
                                                    </Grid.MinWidth>
                                                    
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="6"/>
                                                        <ColumnDefinition Width="100"/>
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="*"/>
                                                        <RowDefinition Height="6"/>
                                                        <RowDefinition Height="*"/>
                                                        <RowDefinition Height="6"/>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>
                                                    
                                                    <Label Grid.Column="0" Grid.Row="0" Content="{Binding Name}" FontWeight="Bold" FontSize="20"/>
                                                    <StackPanel Grid.Column="0" Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right">
                                                        <StackPanel.Style>
                                                            <Style TargetType="StackPanel">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding ReleaseDate}" Value="{x:Null}">
                                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </StackPanel.Style>
                                                        
                                                        <Label Content="{DynamicResource LOCGameReleaseDateTitle}" Margin="0,0,10,0" />
                                                        <Label Content="{Binding ReleaseDate, Converter={StaticResource LocalDateConverter}}" />
                                                    </StackPanel>
                                                    
                                                    <Grid Grid.Column="0" Grid.Row="2" Grid.RowSpan="3">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="30"/>
                                                            <ColumnDefinition Width="1.5*"/>
                                                            <ColumnDefinition Width="6"/>
                                                            <ColumnDefinition Width="2*"/>
                                                        </Grid.ColumnDefinitions>
                                                        
                                                        <StackPanel Grid.Column="1" Grid.IsSharedSizeScope="True">
                                                            <StackPanel>
                                                                <TextBlock Text="{DynamicResource LOCItadNotActive}" Style="{StaticResource BaseTextBlockStyle}" Visibility="{Binding IsActive, Converter={StaticResource InvertedBooleanToVisibilityConverter}}"/>
                                                                <TextBlock Text="{DynamicResource LOCItadNotFind}" Style="{StaticResource BaseTextBlockStyle}" Visibility="{Binding IsFind, Converter={StaticResource InvertedBooleanToVisibilityConverter}}"/>
                                                                <TextBlock Visibility="{Binding InLibrary, Converter={StaticResource BooleanToVisibilityConverter}}" Style="{StaticResource BaseTextBlockStyle}">
																	<Hyperlink Command="{Binding GoToGame}" CommandParameter="{Binding GameId}">
																		<TextBlock Text="{DynamicResource LOCItadInLibrary}" Style="{DynamicResource ListBoxExtendStyleTextBlock}"/>
																	</Hyperlink>
																</TextBlock>
                                                                <TextBlock Text="{DynamicResource LOCItadNoData}">
                                                                    <TextBlock.Style>
                                                                        <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding ItadBestPrice.CurrencySign}" Value="">
                                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                                </DataTrigger>
                                                                                <DataTrigger Binding="{Binding ItadBestPrice.CurrencySign}" Value="{x:Null}">
                                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                                </DataTrigger>
                                                                                <DataTrigger Binding="{Binding InLibrary}" Value="True">
                                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                                </DataTrigger>
                                                                                <DataTrigger Binding="{Binding IsActive}" Value="False">
                                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </TextBlock.Style>
                                                                </TextBlock>
                                                            </StackPanel>
                                                            
                                                            <!-- Best price -->
                                                            <Grid>
                                                                <Grid.Style>
                                                                    <Style TargetType="Grid">
                                                                        <Setter Property="Visibility" Value="Visible"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding ItadBestPrice.CurrencySign}" Value="">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ItadBestPrice.CurrencySign}" Value="{x:Null}">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding InLibrary}" Value="True">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding IsActive}" Value="False">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Grid.Style>
                                                                
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="A"/>
                                                                    <ColumnDefinition Width="10"/>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="B"/>
                                                                    <ColumnDefinition Width="10"/>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="C"/>
                                                                    <ColumnDefinition Width="10"/>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="D"/>
                                                                </Grid.ColumnDefinitions>
                                                                
                                                                <TextBlock Grid.Column="0" Text="{DynamicResource LOCItadCurrentBest}"/>
                                                                <StackPanel Grid.Column="2" Orientation="Horizontal">
                                                                    <TextBlock Text="{Binding ItadBestPrice.PriceNew}" Margin="0,0,5,0"/>
                                                                    <TextBlock Text="{Binding ItadBestPrice.CurrencySign}"/>
                                                                </StackPanel>
                                                                <StackPanel Grid.Column="4" Orientation="Horizontal">
                                                                    <TextBlock Text="{Binding ItadBestPrice.PriceCut}"/>
                                                                    <TextBlock Text="%"/>
                                                                </StackPanel>
                                                                <TextBlock Grid.Column="6" Text="{Binding ItadBestPrice.ShopName}" Foreground="{Binding ItadBestPrice.ShopColor}"/>
                                                            </Grid>
                                                            
                                                            <!-- Best all time low -->
                                                            <Grid>
                                                                <Grid.Style>
                                                                    <Style TargetType="Grid">
                                                                        <Setter Property="Visibility" Value="Visible"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding ItadAllTimeLow.CurrencySign}" Value="">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ItadAllTimeLow.CurrencySign}" Value="{x:Null}">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding InLibrary}" Value="True">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding IsActive}" Value="False">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Grid.Style>
                                                                
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="A"/>
                                                                    <ColumnDefinition Width="10"/>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="B"/>
                                                                    <ColumnDefinition Width="10"/>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="C"/>
                                                                    <ColumnDefinition Width="10"/>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="D"/>
                                                                </Grid.ColumnDefinitions>
                                                                
                                                                <TextBlock Grid.Column="0" Text="{DynamicResource LOCItadAllTimeLow}"/>
                                                                <StackPanel Grid.Column="2" Orientation="Horizontal">
                                                                    <TextBlock Text="{Binding ItadAllTimeLow.PriceNew}" Margin="0,0,5,0"/>
                                                                    <TextBlock Text="{Binding ItadAllTimeLow.CurrencySign}"/>
                                                                </StackPanel>
                                                                <!--StackPanel Grid.Column="4" Orientation="Horizontal">
                                                                    <TextBlock Text="{Binding ItadAllTimeLow.PriceCut}" />
                                                                    <TextBlock Text="%" />
                                                                </StackPanel-->
                                                                <TextBlock Grid.Column="6" Text="{Binding ItadAllTimeLow.ShopName}" Foreground="{Binding ItadAllTimeLow.ShopColor}"/>
                                                            </Grid>
                                                            
                                                            <!-- Best Y1 -->
                                                            <Grid>
                                                                <Grid.Style>
                                                                    <Style TargetType="Grid">
                                                                        <Setter Property="Visibility" Value="Visible"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding ItadY1.CurrencySign}" Value="">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ItadY1.CurrencySign}" Value="{x:Null}">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding InLibrary}" Value="True">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding IsActive}" Value="False">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Grid.Style>
                                                                
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="A"/>
                                                                    <ColumnDefinition Width="10"/>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="B"/>
                                                                    <ColumnDefinition Width="10"/>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="C"/>
                                                                    <ColumnDefinition Width="10"/>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="D"/>
                                                                </Grid.ColumnDefinitions>
                                                                
                                                                <TextBlock Grid.Column="0" Text="{DynamicResource LOCItadYearLow}"/>
                                                                <StackPanel Grid.Column="2" Orientation="Horizontal">
                                                                    <TextBlock Text="{Binding ItadY1.PriceNew}" Margin="0,0,5,0"/>
                                                                    <TextBlock Text="{Binding ItadY1.CurrencySign}"/>
                                                                </StackPanel>
                                                                <!--StackPanel Grid.Column="4" Orientation="Horizontal">
                                                                    <TextBlock Text="{Binding ItadY1.PriceCut}" />
                                                                    <TextBlock Text="%" />
                                                                </StackPanel-->
                                                                <TextBlock Grid.Column="6" Text="{Binding ItadY1.ShopName}" Foreground="{Binding ItadY1.ShopColor}"/>
                                                            </Grid>
                                                            
                                                            <!-- Best M3 -->
                                                            <Grid>
                                                                <Grid.Style>
                                                                    <Style TargetType="Grid">
                                                                        <Setter Property="Visibility" Value="Visible"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding ItadM3.CurrencySign}" Value="">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ItadM3.CurrencySign}" Value="{x:Null}">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding InLibrary}" Value="True">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding IsActive}" Value="False">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Grid.Style>
                                                                
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="A"/>
                                                                    <ColumnDefinition Width="10"/>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="B"/>
                                                                    <ColumnDefinition Width="10"/>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="C"/>
                                                                    <ColumnDefinition Width="10"/>
                                                                    <ColumnDefinition Width="auto" SharedSizeGroup="D"/>
                                                                </Grid.ColumnDefinitions>
                                                                
                                                                <TextBlock Grid.Column="0" Text="{DynamicResource LOCItadMonthLow}"/>
                                                                <StackPanel Grid.Column="2" Orientation="Horizontal">
                                                                    <TextBlock Text="{Binding ItadM3.PriceNew}" Margin="0,0,5,0"/>
                                                                    <TextBlock Text="{Binding ItadM3.CurrencySign}"/>
                                                                </StackPanel>
                                                                <!--StackPanel Grid.Column="4" Orientation="Horizontal">
                                                                    <TextBlock Text="{Binding ItadM3.PriceCut}" />
                                                                    <TextBlock Text="%" />
                                                                </StackPanel-->
                                                                <TextBlock Grid.Column="6" Text="{Binding ItadM3.ShopName}" Foreground="{Binding ItadM3.ShopColor}"/>
                                                            </Grid>
                                                        </StackPanel>
                                                        
                                                        <!-- Store price -->
                                                        <ListBox Grid.Column="3" ItemsSource="{Binding ListItadPriceForWishlistStore}" Name="lbStorePrice" SelectionChanged="LbStorePrice_SelectionChanged" BorderThickness="0" Padding="0" Margin="0" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Auto">
                                                            <ListBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <DockPanel Margin="0,2" LastChildFill="True">
                                                                        <TextBlock DockPanel.Dock="Left" Text="{DynamicResource LOCItadCurrentStore}" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                                                        <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" VerticalAlignment="Center">
                                                                            <Button Name="BtHideWishList" Click="BtHideWishList_Click" Content="" FontFamily="{DynamicResource CommonFont}" ToolTip="{DynamicResource LOCHideGame}" Tag="{Binding}" Margin="5,0,0,0"/>
                                                                            <Button Name="BtRemoveWishList" Click="BtRemoveWishList_Click" Content="" FontFamily="{DynamicResource CommonFont}" ToolTip="{DynamicResource LOCRemoveTitle}" Tag="{Binding}" Margin="6,0,0,0">
                                                                                <Button.Style>
                                                                                    <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                                                                                        <Setter Property="IsEnabled" Value="True"/>
                                                                                        <Style.Triggers>
                                                                                            <DataTrigger Binding="{Binding ShopName}" Value="Xbox">
                                                                                                <Setter Property="IsEnabled" Value="False"/>
                                                                                            </DataTrigger>
                                                                                            <DataTrigger Binding="{Binding ShopName}" Value="Microsoft Store">
                                                                                                <Setter Property="IsEnabled" Value="False"/>
                                                                                            </DataTrigger>
                                                                                        </Style.Triggers>
                                                                                    </Style>
                                                                                </Button.Style>
                                                                            </Button>
                                                                        </StackPanel>
                                                                        <TextBlock DockPanel.Dock="Left" Style="{StaticResource PriceVisibilityStyle}" VerticalAlignment="Center" Margin="0,0,10,0">
																			<Run Text="{Binding PriceNew, Mode=OneWay}"/>
																			<Run Text="{Binding CurrencySign, Mode=OneWay}"/>
                                                                        </TextBlock>
                                                                        <TextBlock DockPanel.Dock="Left" Style="{StaticResource PriceVisibilityStyle}" VerticalAlignment="Center" Margin="0,0,10,0">
																			<Run Text="{Binding PriceCut, Mode=OneWay}"/>
																			<Run Text="%"/>
                                                                        </TextBlock>
                                                                        <TextBlock Text="{Binding ShopName}" Foreground="{Binding ShopColor}" VerticalAlignment="Center" TextTrimming="CharacterEllipsis"/>
                                                                    </DockPanel>
                                                                </DataTemplate>
                                                            </ListBox.ItemTemplate>
                                                        </ListBox>
                                                    </Grid>
                                                    
                                                    <!-- actions buttons -->
                                                    <Button Height="30" Grid.Column="2" Grid.Row="0" Tag="{Binding UrlGame}" Content="{DynamicResource LOCWebsiteLabel}" Click="ButtonWeb_Click"/>
                                                    <Button Height="30" Grid.Column="2" Grid.Row="2" Tag="{Binding ItadBestPrice.UrlBuy}" Content="{DynamicResource LOCItadBuy}" Click="ButtonWeb_Click">
                                                        <Button.Style>
                                                            <Style TargetType="Button">
                                                                <Setter Property="Background" Value="{DynamicResource ButtonBackgroundBrush}"/>
                                                                <Setter Property="Foreground" Value="{DynamicResource GlyphBrush}"/>
                                                                <Setter Property="BorderBrush" Value="{DynamicResource NormalBorderBrush}"/>
                                                                <Setter Property="BorderThickness" Value="{DynamicResource ControlBorderThickness}"/>
                                                                <Setter Property="SnapsToDevicePixels" Value="True"/>
                                                                <Setter Property="Padding" Value="10,5,10,5"/>
                                                                <Setter Property="Template">
                                                                    <Setter.Value>
                                                                        <ControlTemplate TargetType="{x:Type Button}">
                                                                            <Border x:Name="Border" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" CornerRadius="{DynamicResource ControlCornerRadius}" Style="{DynamicResource HighlightBorder}">
                                                                                <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True"/>
                                                                            </Border>
                                                                            <ControlTemplate.Triggers>
                                                                                <Trigger Property="IsFocused" Value="True">
                                                                                    <Setter Property="BorderBrush" Value="{DynamicResource GlyphBrush}" TargetName="Border"/>
                                                                                </Trigger>
                                                                            </ControlTemplate.Triggers>
                                                                        </ControlTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                                <Style.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
                                                                    </Trigger>
                                                                    <DataTrigger Binding="{Binding ItadPriceForWishlistStore.CurrencySign}" Value="">
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                    </DataTrigger>
                                                                    <DataTrigger Binding="{Binding ItadPriceForWishlistStore.CurrencySign}" Value="{x:Null}">
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                    </DataTrigger>
                                                                    <DataTrigger Binding="{Binding InLibrary}" Value="True">
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                    </DataTrigger>
                                                                    <DataTrigger Binding="{Binding IsActive}" Value="False">
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Button.Style>
                                                    </Button>
                                                    <Button Height="30" Grid.Column="2" Grid.Row="4" Tag="{Binding StoreUrl}" Content="{DynamicResource LOCItadStore}" Click="ButtonWeb_Click" IsEnabled="False" Name="btStore">
                                                        <Button.Style>
                                                            <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                                                                <Setter Property="Background" Value="{DynamicResource ButtonBackgroundBrush}"/>
                                                                <Setter Property="Foreground" Value="{DynamicResource GlyphBrush}"/>
                                                                <Setter Property="BorderBrush" Value="{DynamicResource NormalBorderBrush}"/>
                                                                <Setter Property="BorderThickness" Value="{DynamicResource ControlBorderThickness}"/>
                                                                <Setter Property="SnapsToDevicePixels" Value="True"/>
                                                                <Setter Property="Padding" Value="10,5,10,5"/>
                                                                <Setter Property="Template">
                                                                    <Setter.Value>
                                                                        <ControlTemplate TargetType="{x:Type Button}">
                                                                            <Border x:Name="Border" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" CornerRadius="{DynamicResource ControlCornerRadius}" Style="{DynamicResource HighlightBorder}">
                                                                                <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True"/>
                                                                            </Border>
                                                                            <ControlTemplate.Triggers>
                                                                                <Trigger Property="IsFocused" Value="True">
                                                                                    <Setter Property="BorderBrush" Value="{DynamicResource GlyphBrush}" TargetName="Border"/>
                                                                                </Trigger>
                                                                            </ControlTemplate.Triggers>
                                                                        </ControlTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Style.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
                                                                    </Trigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Button.Style>
                                                    </Button>
                                                </Grid>
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Grid>
                    </DockPanel>
                    
                    <Grid Name="DataLoadWishlist">
                        <ProgressBar IsIndeterminate="True" Width="350" Height="40"/>
                        <TextBlock Text="{DynamicResource LOCDownloadingLabel}" Style="{DynamicResource BaseTextBlockStyle}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Grid>
                </Grid>
            </TabItem>
            
            <TabItem Header="Giveaways">
                <Grid Name="gGiveaways" Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="540"/>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition Width="540"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto"/>
                    </Grid.RowDefinitions>
                </Grid>
            </TabItem>
        </TabControl>
        
        <Grid Name="PART_Order" Height="{Binding ElementName=PART_Tb, Path=ActualHeight}" VerticalAlignment="Top">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="160"/>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="160"/>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="50"/>
                <ColumnDefinition Width="auto"/>
            </Grid.ColumnDefinitions>
            <Label Grid.Column="1" Content="{DynamicResource LOCSettingsTopPanelSortingItem}"/>
            <ComboBox Grid.Column="3" VerticalAlignment="Center" Name="PART_CbOrderType" SelectionChanged="PART_CbOrder_SelectionChanged">
                <ComboBoxItem Content="{DynamicResource LOCNameLabel}" Tag="0" IsSelected="True"/>
                <ComboBoxItem Content="{DynamicResource LOCITADOrderBestPriceCut}" Tag="1"/>
                <ComboBoxItem Content="{DynamicResource LOCITADOrderBestPrice}" Tag="2"/>
                <ComboBoxItem Content="{DynamicResource LOCITADOrderStorePriceCut}" Tag="3"/>
                <ComboBoxItem Content="{DynamicResource LOCITADOrderStorePrice}" Tag="4"/>
                <ComboBoxItem Content="{DynamicResource LOCGameReleaseDateTitle}" Tag="5"/>
            </ComboBox>
            <ComboBox Grid.Column="5" VerticalAlignment="Center" Name="PART_CbOrder" SelectionChanged="PART_CbOrder_SelectionChanged">
                <ComboBoxItem Content="{DynamicResource LOCMenuSortAscending}" Tag="0" IsSelected="True"/>
                <ComboBoxItem Content="{DynamicResource LOCMenuSortDescending}" Tag="1"/>
            </ComboBox>
            <StackPanel Grid.Column="7" Orientation="Horizontal">
                <TextBlock Style="{DynamicResource BaseTextBlockStyle}" Text="{DynamicResource LOCCommonTotalFound}" VerticalAlignment="Center"/>
                <TextBlock Style="{DynamicResource BaseTextBlockStyle}" Name="PART_TotalFoundCount" Text="{Binding ElementName=lbWishlist, Path=ItemsSource.Count, FallbackValue=0}" VerticalAlignment="Center" Width="40" TextAlignment="Right"/>
            </StackPanel>
            <Label Grid.Column="9" FontFamily="{DynamicResource CommonFont}" Content="" Name="ItadInfo" FontSize="22">
                <Label.ToolTip>
                    <ToolTip>
                        <ListBox Name="tpListBox" BorderThickness="0">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Label Grid.Column="0" Content="{Binding StoreName}"/>
                                        <Label Grid.Column="1" HorizontalAlignment="Right" Content="{Binding Count}" Margin="10,0,0,0"/>
                                    </Grid>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </ToolTip>
                </Label.ToolTip>
            </Label>
        </Grid>
    </Grid>
</UserControl>
